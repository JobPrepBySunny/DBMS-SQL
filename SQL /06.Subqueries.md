Perfect ‚Äî continuing in the same clear style.

---

# üü¶ **Subqueries**

A **subquery** means:
üëâ ‚ÄúA query inside another query.‚Äù

You can place a subquery in **SELECT**, **WHERE**, or **FROM**.

---

## **1) Subquery in SELECT**

**Meaning:**
‚ÄúCalculate something for each row using another query.‚Äù

**Explanation:**

* Runs once *per row*.
* Useful for counts, totals, averages related to that row.

**Example:**

```sql
SELECT name,
       (SELECT COUNT(*) FROM orders o WHERE o.user_id = u.id) AS order_count
FROM users u;
```

This means:
‚û°Ô∏è For every user, count how many orders they placed and show it as `order_count`.

---

## **2) Subquery in WHERE**

**Meaning:**
‚ÄúUse the result of a query to filter another query.‚Äù

**Explanation:**

* Often used to compare a value with an aggregate (AVG, MAX, MIN).
* Subquery must return a **single value**.

**Example:**

```sql
SELECT * FROM products
WHERE price > (SELECT AVG(price) FROM products);
```

This means:
‚û°Ô∏è Show products whose price is above the average price of all products.

---

## **3) Subquery in FROM (Inline View)**

**Meaning:**
‚ÄúTreat the subquery like a temporary table.‚Äù

**Explanation:**

* Subquery becomes a table that the outer query uses.
* Must have an alias.

**Example:**

```sql
SELECT avg_price
FROM (
    SELECT AVG(price) AS avg_price FROM products
) AS t;
```

This means:
‚û°Ô∏è First calculate the average price ‚Üí name it `avg_price`.
‚û°Ô∏è Then select it from the temporary result.

---

## **4) ANY / SOME Subquery**

**Meaning:**
‚ÄúCompare a value with *any one* of the values returned by the subquery.‚Äù

**Example:**

```sql
SELECT * FROM products 
WHERE price > ANY (SELECT price FROM products WHERE category = 'Electronics');
```

This means:
‚û°Ô∏è Show products that are priced more than **at least one** electronic product.

---

## **5) ALL Subquery**

**Meaning:**
‚ÄúCompare a value with *every* value returned by the subquery.‚Äù

**Example:**

```sql
SELECT * FROM employees
WHERE salary > ALL (SELECT salary FROM interns);
```

This means:
‚û°Ô∏è Show employees who earn more than **every intern** (i.e., the highest intern salary).

---

## **6) EXISTS Subquery**

**Meaning:**
‚ÄúReturn TRUE if the subquery returns any row.‚Äù

**Explanation:**

* EXISTS stops searching after it finds the first matching row.
* Used when you only care if something exists.

**Example:**

```sql
SELECT name
FROM users u
WHERE EXISTS (SELECT 1 FROM orders o WHERE o.user_id = u.id);
```

This means:
‚û°Ô∏è Show users **only if** they have at least one order.

---

## **7) NOT EXISTS**

**Meaning:**
‚ÄúReturn TRUE if the subquery returns no rows.‚Äù

**Example:**

```sql
SELECT name 
FROM users u
WHERE NOT EXISTS (SELECT 1 FROM orders o WHERE o.user_id = u.id);
```

This means:
‚û°Ô∏è Show users who **have never placed any order**.

---

# ‚úîÔ∏è Next Section?

If you want, I‚Äôll continue with:

üëâ **Set Operations (UNION, UNION ALL, INTERSECT, EXCEPT)**

Just reply:
‚û°Ô∏è **Continue Set Operations**
